
    <!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log History</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    </head>
    <body><header><h1>Solar Heater Controller</h1><nav><a href="/">Dashboard</a><a href="/settings">Settings</a><a href="/history" class="active">History</a></nav></header>
    <div class="content-wrapper"><div class="container">
    <h2 class="page-title">Temperature Log History (Last {{ max_rows }} Entries)</h2>
    <p class="info-text">Displaying temperatures in {{ unit_symbol_hist }}. Logged data in CSV is always in Celsius.</p>
    {% if message %}<div class="message-box error">{{ message }}</div>{% endif %}
    <div class="download-section"><a href="/download_log" class="download-btn">Download Full Log ({{ log_file_name }})</a></div>
    {% if log_data_preview and log_data_preview[0] %}
        <table><thead><tr>
        {% for header_cell in log_data_preview[0] %}<th>{{ header_cell }}</th>{% endfor %}
        </tr></thead><tbody>
        {% for row in log_data_preview[1:] %}<tr>
        {% for cell in row %}<td>{{ cell }}</td>{% endfor %}
        </tr>{% endfor %}
        </tbody></table>
    {% else %} <p>No log data to display, or log file is empty/not found.</p> {% endif %}
    </div></div><footer>Controller Version 1.5</footer></body></html>